CREATE  TRIGGER  IF NOT EXISTS "main"."d_tWord" AFTER DELETE ON word FOR EACH ROW  
BEGIN 
    DELETE 
    FROM FTSDictionary
    WHERE wordID = OLD.ID; 
END;


CREATE  TRIGGER  IF NOT EXISTS "main"."u_tWord" AFTER UPDATE ON Word FOR EACH ROW  BEGIN 

UPDATE FTSDictionary 
SET suggest_text_1 = NEW.Word,
    suggest_text_2 = NEW.Translation
WHERE wordID = NEW.ID; 

END;

CREATE  TRIGGER  IF NOT EXISTS "main"."i_tWord" AFTER INSERT ON word FOR EACH ROW  BEGIN 
INSERT INTO FTSDictionary (suggest_text_1, suggest_text_2, suggest_text_3, WordID)
SELECT 
       NEW.Word as suggest_text_1,
       NEW.Translation as suggest_text_2,
       (SELECT  trim(substr( c.name || '          ',1,10) ) || "..\" ||
        	    trim(substr( l.name || '          ',1,10) ) || ".."
        FROM collection c
        JOIN list l
          ON c.id = l.collection_id
        WHERE l.id = NEW.list_id ) as suggest_text_3,
       New.ID as WordID;
 END;
